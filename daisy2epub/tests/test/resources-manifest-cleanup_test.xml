<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE utfx:tests PUBLIC "-//UTF-X//DTD utfx-tests 1.0//EN" "utfx_tests.dtd">
<utfx:tests xmlns:utfx="http://utfx.org/test-definition" xmlns:epub="http://www.idpf.org/2011/epub"
   xmlns:c="http://www.w3.org/ns/xproc-step" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <utfx:stylesheet src="../resources-manifest-cleanup.xsl"/>
   <utfx:test>
      <utfx:name>Nothing to clean up (pass right through)</utfx:name>
      <utfx:assert-equal>
         <utfx:source>
            <c:manifest>
               <c:entry href="a.mp3" media-type="audio/mpeg"/>
               <c:entry href="b.css" media-type="text/css"/>
               <c:entry href="c.png" media-type="image/png"/>
            </c:manifest>
         </utfx:source>
         <utfx:expected>
            <c:manifest>
               <c:entry href="a.mp3" media-type="audio/mpeg"/>
               <c:entry href="b.css" media-type="text/css"/>
               <c:entry href="c.png" media-type="image/png"/>
            </c:manifest>
         </utfx:expected>
      </utfx:assert-equal>
   </utfx:test>
   <utfx:test>
      <utfx:name>Remove duplicate c:entry</utfx:name>
      <utfx:assert-equal>
         <utfx:source>
            <c:manifest>
               <c:entry href="a.mp3" media-type="audio/mpeg"/>
               <c:entry href="b.css" media-type="text/css"/>
               <c:entry href="c.png" media-type="image/png"/>
               <c:entry href="b.css" media-type="text/css"/>
            </c:manifest>
         </utfx:source>
         <utfx:expected>
            <c:manifest>
               <c:entry href="a.mp3" media-type="audio/mpeg"/>
               <c:entry href="b.css" media-type="text/css"/>
               <c:entry href="c.png" media-type="image/png"/>
            </c:manifest>
         </utfx:expected>
      </utfx:assert-equal>
   </utfx:test>
</utfx:tests>
